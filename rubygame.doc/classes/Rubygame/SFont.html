<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Rubygame::SFont</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Rubygame::SFont</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/sfont_rb.html">
                sfont.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
<a href="SFont.html">SFont</a> is a type of bitmapped font, which is loaded
from an image file with a meaningful top row of pixels, and the font itself
below that. The top row provides information about what parts of of the
lower area contains font data, and which parts are empty.
</p>
<p>
The image file should contain all of the glyphs on one row, with the
colorkey color at the bottom-left pixel and the &quot;skip&quot; color at
the top-left pixel.
</p>
<p>
The colorkey color is applied to the image file when it is loaded, so that
all pixels of that color appear transparent. Alternatively, if the alpha
value of pixel [0,0] is 0 (that is, if it is fully transparent), the image
file is assumed to have a proper alpha channel, and no colorkey is applied.
The skip color is used in the top row of pixels to indicate that all the
pixels below it contain empty space, and that the next pixel that is not
the skip color marks the beginning of the next glyph.
</p>
<p>
The official <a href="SFont.html">SFont</a> homepage, with information on
<a href="SFont.html">SFont</a> and sample font files, can be found at <a
href="http://www.linux-games.com/sfont">www.linux-games.com/sfont</a>/.
More information on <a href="SFont.html">SFont</a>, and a useful utility
for automatically generating the top row for a font, can be found at: <a
href="http://www.nostatic.org/sfont">www.nostatic.org/sfont</a>/
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000144">blit_glyph</a>&nbsp;&nbsp;
      <a href="#M000141">default_glyphs</a>&nbsp;&nbsp;
      <a href="#M000143">load_glyph</a>&nbsp;&nbsp;
      <a href="#M000142">new</a>&nbsp;&nbsp;
      <a href="#M000146">render</a>&nbsp;&nbsp;
      <a href="#M000145">string_width</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">height</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Return the height of the font, in pixels. This is the same as the height of
the image file (all glyphs are the same height).

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000141" class="method-detail">
        <a name="M000141"></a>

        <div class="method-heading">
          <a href="SFont.src/M000141.html" target="Code" class="method-signature"
            onclick="popupCode('SFont.src/M000141.html');return false;">
          <span class="method-name">default_glyphs</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array of strings, each string a single ASCII character from !
(33) to ~ (126). This is the default set of characters in a <a
href="SFont.html">SFont</a>. The full set is as follows:
</p>
<pre>
  ! &quot; # $ % &amp; ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @
  A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ^ _ `
  a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~
</pre>
        </div>
      </div>

      <div id="method-M000142" class="method-detail">
        <a name="M000142"></a>

        <div class="method-heading">
          <a href="SFont.src/M000142.html" target="Code" class="method-signature"
            onclick="popupCode('SFont.src/M000142.html');return false;">
          <span class="method-name">new</span><span class="method-args">(filename,glyphs=nil,spacew=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a now <a href="SFont.html">SFont</a> instance.
</p>
<p>
This function takes these arguments:
</p>
<table>
<tr><td valign="top">filename:</td><td>the name of the image file from which the font should be loaded. Or, a <a
href="Surface.html">Surface</a> with a font image on it. The <a
href="Surface.html">Surface</a> will be copied onto separate Surfaces for
each glyph, so the original <a href="Surface.html">Surface</a> can be
recycled.

</td></tr>
<tr><td valign="top">glyphs:</td><td>array of strings, one for each glyph, in the order they are found in the
image file. If glyphs is not provided, or is nil, it is assumed to be the
normal <a href="SFont.html">SFont</a> order; that is, ASCII characters !
(33) to ~ (126). See <a href="SFont.html#M000141">SFont.default_glyphs</a>
for a full list.

</td></tr>
<tr><td valign="top">spacew:</td><td>represents the width of a space character ( ). You can either specify the
width in pixels, or specify a character whose width, as found in the image,
should be used. Alternatively, you could add a space character to the list
of glyphs, and to the image file. If <tt>spacew</tt> is not given or is
nil, and the space character is not in the list of glyphs, it will have the
same width as the double-quote character (&quot;).

</td></tr>
</table>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000146" class="method-detail">
        <a name="M000146"></a>

        <div class="method-heading">
          <a href="SFont.src/M000146.html" target="Code" class="method-signature"
            onclick="popupCode('SFont.src/M000146.html');return false;">
          <span class="method-name">render</span><span class="method-args">(string)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders the given string to a <a href="Surface.html">Surface</a>, and
returns that surface.
</p>
<p>
This method takes this argument:
</p>
<table>
<tr><td valign="top">string:</td><td>the text string to render.

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000145" class="method-detail">
        <a name="M000145"></a>

        <div class="method-heading">
          <a href="SFont.src/M000145.html" target="Code" class="method-signature"
            onclick="popupCode('SFont.src/M000145.html');return false;">
          <span class="method-name">string_width</span><span class="method-args">(string)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Pretends to render the given string, and returns the width in pixels of the
surface that would be created if it were rendered using <a
href="SFont.html#M000146">SFont#render</a>. If you want the height too, you
can get it with SFont#height (the height is contant).
</p>
<p>
This method takes this argument:
</p>
<table>
<tr><td valign="top">string:</td><td>the string to pretend to render.

</td></tr>
</table>
        </div>
      </div>

      <h3 class="section-bar">Private Instance methods</h3>

      <div id="method-M000144" class="method-detail">
        <a name="M000144"></a>

        <div class="method-heading">
          <a href="SFont.src/M000144.html" target="Code" class="method-signature"
            onclick="popupCode('SFont.src/M000144.html');return false;">
          <span class="method-name">blit_glyph</span><span class="method-args">(glyph,surface,pos)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is a private function which is used to render a string.
</p>
<p>
Blit a single glyph to a <a href="Surface.html">Surface</a> at the given
position.
</p>
<p>
This <em>private</em> method takes these arguments:
</p>
<table>
<tr><td valign="top">glyph:</td><td>a string containing the glyph to blit.

</td></tr>
<tr><td valign="top">surface:</td><td>the target surface to blit onto.

</td></tr>
<tr><td valign="top">pos:</td><td>an Array of the x and y values to blit the glyph to.

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M000143" class="method-detail">
        <a name="M000143"></a>

        <div class="method-heading">
          <a href="SFont.src/M000143.html" target="Code" class="method-signature"
            onclick="popupCode('SFont.src/M000143.html');return false;">
          <span class="method-name">load_glyph</span><span class="method-args">(surface,glyph,start_x)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is a private function which is used to parse the font image.
</p>
<p>
Create a <a href="Surface.html">Surface</a> for a single glyph, and store
it as a value in the +@glyphs+ hash, indexed by the glyph (string) it
represents.
</p>
<p>
Starting at a pixel in the &quot;skip&quot; region to the left of the
glyph. Scans to the right along the top row until it finds a non-skip pixel
(this is where the glyph starts) and then scans until it finds a skip pixel
(this is where the glyph ends.
</p>
<p>
Returns the x value it stops at, plus 1. This should be fed back in for the
<tt>start_x</tt> of the next glyph.
</p>
<p>
This <em>private</em> method takes these arguments:
</p>
<table>
<tr><td valign="top">surface:</td><td>the <a href="Surface.html">Surface</a> containing all glyph image data.

</td></tr>
<tr><td valign="top">glyph:</td><td>a string containing the current glyph

</td></tr>
<tr><td valign="top">start_x:</td><td>the x position to start scanning at.

</td></tr>
</table>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>